var Tinypopup=(function(f,h){var d=200;function e(k,l){var j;for(j in l){if(l.hasOwnProperty(j)){if(j==="top"||j==="left"||j==="width"||j==="height"){k.style[j]=l[j]+"px";}else{k.style[j]=l[j];}}}}function b(){this.shadow=h.createElement("div");this.shadow.id="tinypopup-shadow";this.shadow.className="tinypopup-shadow";this.el.parentNode.appendChild(this.shadow);}function c(k,j,l){if(k.addEventListener){k.addEventListener(j,l,false);}else{k.attachEvent("on"+j,l);}}function g(l,j,k,m){if(l){c(l,j,(function(){return function(){m.apply(k);};}(k)));}}function i(p,q){var n,l,k=[],o=new RegExp("(^| )"+q+"( |$)"),m=p.getElementsByTagName("*");for(n=0,l=m.length;n<l;n+=1){if(o.test(m[n].className)){k.push(m[n]);}}return k;}function a(l,j,k,m){if(!l.nodeName){l=h.getElementById(l);}this.el=l;this.w=0;this.h=0;this.el.style.display="";this.el.className="tinypopup-content";this.onshow=j;this.onhide=k;this.onresize=m;this.showing=false;b.apply(this);g(this.shadow,"click",this,this.hide);g(f,"resize",this,this.resize);this.attachCloseButton();}a.prototype.attachCloseButton=function(){if(this.el&&this.el.querySelector){this.closeButton=this.el.querySelector(".tinypopup-closebutton");}else{if(this.el){this.closeButton=i(this.el,"tinypopup-closebutton")[0];}}if(this.closeButton){g(this.closeButton,"click",this,this.hide);}};a.prototype.show=function(j,k,l){this.w=j;this.h=k;this.shadow.className="tinypopup-shadow show";this.el.className="tinypopup-content show";if(l){this.el.innerHTML="";this.el.appendChild(l);}this.attachCloseButton();this.resize();if(this.onshow){this.onshow(this.el);}this.showing=true;setTimeout((function(m){return function(){m.showing=false;};})(this),d);};a.prototype.hide=function(){if(!this.showing){this.shadow.className="tinypopup-shadow hide";this.el.className="tinypopup-content hide";if(this.onhide){this.onhide(this.el);}}};a.prototype.resize=function(){if(this.onresize){this.onresize(this.el);}};return a;}(window,document));